Index: app/src/main/java/com/example/homesitter/EditActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.homesitter;\r\n\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.app.ProgressDialog;\r\nimport android.content.ClipData;\r\nimport android.content.ContentResolver;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.util.TypedValue;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\n\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.RequestManager;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.OnProgressListener;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.gun0912.tedpermission.PermissionListener;\r\nimport com.gun0912.tedpermission.TedPermission;\r\n\r\nimport gun0912.tedbottompicker.TedBottomPicker;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n\r\npublic class EditActivity<Disposable> extends AppCompatActivity {\r\n    private EditText mEditName;\r\n//    private ImageButton mImagePerson;\r\n    private int mItem = -1; //인덱스\r\n    private Button mButton;\r\n    ImageView btnSave;\r\n//    ImageButton imagePerson;\r\n\r\n    private static final String TAG = \"MultiImageActivity\";\r\n    ArrayList<Uri> uriList = new ArrayList<>();     // 이미지의 uri를 담을 ArrayList 객체\r\n    RecyclerView recyclerView;  // 이미지를 보여줄 리사이클러뷰\r\n    MultiImageAdapter adapter;  // 리사이클러뷰에 적용시킬 어댑터\r\n\r\n\r\n    int i=0;\r\n    int j=1;\r\n    int k=0;\r\n    int index;\r\n\r\n    private ImageView iv_image;\r\n    private List<Uri> selectedUriList;\r\n    private Uri selectedUri;\r\n    private Disposable singleImageDisposable;\r\n    private Disposable multiImageDisposable;\r\n    private ViewGroup mSelectedImagesContainer;\r\n    private RequestManager requestManager;\r\n    private StorageReference mStorageRef;\r\n    private ImageView[] thumbnail;\r\n    public static int UpdateCount;\r\n    int DownCount,oneface;\r\n    SimpleDateFormat formatter;\r\n    private final String SAMPLE_CROPPED_IMAGE_NAME = \"sample_image\";\r\n\r\n\r\n\r\n    @SuppressLint(\"WrongViewCast\")\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit);\r\n\r\n        mButton = findViewById(R.id.buttonGall);\r\n        mEditName = findViewById(R.id.editTextName);\r\n//        mImagePerson = findViewById(R.id.imagePerson);\r\n\r\n        FirebaseApp.initializeApp(this);\r\n        mStorageRef = FirebaseStorage.getInstance().getReference();\r\n        iv_image = findViewById(R.id.iv_image);\r\n        mSelectedImagesContainer = findViewById(R.id.selected_photos_container);\r\n        requestManager = Glide.with(this);\r\n        String name = mEditName.getText().toString();\r\n        formatter = new SimpleDateFormat(\"yyyyMMdd_HHmmss\");\r\n\r\n        Intent intent = getIntent();    //intent객체를 가져옴\r\n        if (intent != null) {    //추가\r\n            mItem = intent.getIntExtra(\"item\", -1);\r\n\r\n            if (mItem != -1) {   //수정\r\n                //값을 가져와서 보여줌\r\n                mEditName.setText(intent.getStringExtra(\"name\"));\r\n            }\r\n        }\r\n\r\n        //이미지를 클릭하면 갤러리에서 이미지를 가져옴\r\n//        imagePerson = findViewById(R.id.imagePerson); // 이미지 객체를 얻어옴\r\n        mButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK);\r\n                intent.setType(\"image/*\");\r\n                intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n                intent.setData(MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                startActivityForResult(intent, 2222);\r\n            }\r\n        });\r\n\r\n        //취소버튼\r\n        ImageButton btnBack;\r\n        btnBack = findViewById(R.id.buttonBack);\r\n        btnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n        //저장버튼\r\n        btnSave = findViewById(R.id.buttonSave);\r\n        btnSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String sName = mEditName.getText().toString();\r\n                if(sName.isEmpty()) {\r\n                    Toast.makeText(getApplicationContext(), \"이름을 입력해주세요\", Toast.LENGTH_SHORT).show();\r\n                    finish();\r\n                }\r\n\r\n                if (selectedUriList!= null&&mEditName!=null) {\r\n                    final ProgressDialog progressDialog = new ProgressDialog(EditActivity.this);\r\n                    progressDialog.setTitle(\"업로드 중\");\r\n                    progressDialog.show();\r\n                    FirebaseStorage storage = FirebaseStorage.getInstance();\r\n                    StorageReference storageRef;\r\n//                    String sName = mEditName.getText().toString();\r\n                    FirebaseDatabase firebaseDatabase=FirebaseDatabase.getInstance();\r\n                    DatabaseReference childreference=firebaseDatabase.getReference().child(\"00gpwls00/PhotoLink/\"+name);\r\n                    ValueEventListener valueEventListener = new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                            if(dataSnapshot.child(\"UpdateCount\").getValue()!=null) {\r\n                                UpdateCount = dataSnapshot.child(\"UpdateCount\").getValue(Integer.class);\r\n                                firebaseDatabase.getReference().child(\"00gpwls00/PhotoLink/\" + name + \"/\" + \"UpdateCount\").setValue(UpdateCount + i - 1);\r\n                            }else{\r\n                                DownCount=0;\r\n                                UpdateCount=0;\r\n                                oneface=0;\r\n                                //UpdateCount = dataSnapshot.getValue(Integer.class);\r\n                                System.out.println(\"UpdateCount:\"+UpdateCount);\r\n                                firebaseDatabase.getReference().child(\"00gpwls00/PhotoLink/\"+name+\"/\"+\"UpdateCount\").setValue(UpdateCount+i-1);\r\n                                firebaseDatabase.getReference().child(\"00gpwls00/PhotoLink/\"+name+\"/\"+\"DownCount\").setValue(DownCount);\r\n                                firebaseDatabase.getReference().child(\"00gpwls00/PhotoLink/\"+name+\"/\"+\"oneface\").setValue(oneface);\r\n\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                        }\r\n                    };\r\n                    childreference.addListenerForSingleValueEvent(valueEventListener);\r\n\r\n                    i = 1;\r\n\r\n                    for (Uri uri : selectedUriList) {\r\n                        Log.d(\"pics\", \"\" + uri);\r\n                        String filename;\r\n                        String urlname;\r\n                        //FirebaseStorage storage = FirebaseStorage.getInstance();\r\n                        //Unique한 파일명을 만들자.\r\n\r\n                        Date now = new Date();\r\n                        filename = formatter.format(now) + \"_\" + i + \".png\";\r\n                        urlname = formatter.format(now) + \"_\" + i;\r\n\r\n                        //storage 주소와 폴더 파일명을 지정해 준다.\r\n                        /*storageRef = storage.getReferenceFromUrl(\"gs://aicctv-8f5ac.appspot.com\").child(\"/00gpwls00/Photo/\"+name+\"/\"+filename);*/\r\n                        storageRef = storage.getReferenceFromUrl(\"gs://homesitter-54d69.appspot.com\").child(\"/00gpwls00/Photo/\"+name+\"/\"+filename);\r\n\r\n                        storageRef.putFile(uri)\r\n                                //성공시\r\n                                .addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                                    @Override\r\n                                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                        Toast.makeText(getApplicationContext(), \"업로드 완료!\"+\"(\"+j+\"/\"+selectedUriList.size()+\")\", Toast.LENGTH_SHORT).show();\r\n                                        j++;\r\n\r\n                                        taskSnapshot.getMetadata().getReference().getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {\r\n                                            @Override\r\n                                            public void onSuccess(Uri uri) {\r\n                                                Log.d(\"★★★★★★★★11111\", uri.toString());\r\n                                                String imgurl=uri.toString();\r\n                                                firebaseDatabase.getReference().child(\"/00gpwls00/PhotoLink/\"+name+\"/\"+urlname).setValue(imgurl);\r\n\r\n                                            }\r\n                                        }).toString();\r\n\r\n                                    }\r\n\r\n                                })\r\n                                //실패시\r\n                                .addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n                                        Toast.makeText(getApplicationContext(), \"업로드 실패!\", Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                })\r\n                                //진행중\r\n                                .addOnProgressListener(new OnProgressListener<UploadTask.TaskSnapshot>() {\r\n                                    @Override\r\n                                    public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                        @SuppressWarnings(\"VisibleForTests\") //\r\n                                        double progress = (100 * taskSnapshot.getBytesTransferred()) / taskSnapshot.getTotalByteCount();\r\n                                        //dialog에 진행률을 퍼센트로 출력해 준다\r\n                                        progressDialog.setMessage(\"Uploaded \" + ((int) progress) + \"% ...\");\r\n\r\n                                    }\r\n                                });\r\n                        i++;\r\n                    }\r\n                    progressDialog.dismiss();\r\n\r\n\r\n                    Intent intent = new Intent();\r\n                    intent.putExtra(\"item\", mItem);\r\n                    intent.putExtra(\"name\", sName);\r\n                    setResult(RESULT_OK, intent);\r\n                    finish();\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n            setMultiShowButton();\r\n\r\n\r\n/*            public void onClick(View v) {\r\n                String sName = mEditName.getText().toString().trim();\r\n\r\n                if(sName.isEmpty()) {\r\n                    Toast.makeText(getApplicationContext(), \"이름을 입력해 주세요.\", Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                Intent intent = new Intent();\r\n                intent.putExtra(\"item\", mItem);\r\n                intent.putExtra(\"name\", sName);\r\n                setResult(RESULT_OK, intent);\r\n                finish();\r\n            }\r\n\r\n */\r\n\r\n    }\r\n\r\n    @SuppressLint(\"UseCheckPermission\")\r\n    private void setMultiShowButton() {\r\n\r\n        Button btnMultiShow = findViewById(R.id.buttonGall);\r\n        btnMultiShow.setOnClickListener(view -> {\r\n\r\n            PermissionListener permissionlistener = new PermissionListener() {\r\n                @Override\r\n                public void onPermissionGranted() {\r\n                    TedBottomPicker.with(EditActivity.this)\r\n                            //.setPeekHeight(getResources().getDisplayMetrics().heightPixels/2)\r\n                            .setPeekHeight(1600)\r\n                            .showTitle(false)\r\n                            .setCompleteButtonText(\"Done\")\r\n                            .setEmptySelectionText(\"No Select\")\r\n                            .setSelectedUriList(selectedUriList)\r\n                            .showMultiImage(uriList -> {\r\n                                selectedUriList = uriList;\r\n                                showUriList(selectedUriList);\r\n                            });\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onPermissionDenied(ArrayList<String> deniedPermissions) {\r\n                    Toast.makeText(EditActivity.this, \"Permission Denied\\n\" + deniedPermissions.toString(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            };\r\n            checkPermission(permissionlistener);\r\n        });\r\n    }\r\n\r\n    private void checkPermission(PermissionListener permissionlistener) {\r\n        TedPermission.with(EditActivity.this)\r\n                .setPermissionListener(permissionlistener)\r\n                .setDeniedMessage(\"If you reject permission,you can not use this service\\n\\nPlease turn on permissions at [Setting] > [Permission]\")\r\n                .setPermissions(Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                .check();\r\n    }\r\n\r\n    private void showUriList(List<Uri> uriList) {\r\n\r\n        mSelectedImagesContainer.removeAllViews();\r\n\r\n        iv_image.setVisibility(View.GONE);\r\n        mSelectedImagesContainer.setVisibility(View.VISIBLE);\r\n\r\n        int widthPixel = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 100, getResources().getDisplayMetrics());\r\n        int heightPixel = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 100, getResources().getDisplayMetrics());\r\n\r\n        thumbnail = new ImageView[70];\r\n        k=0;\r\n        for (Uri uri : uriList) {\r\n\r\n            View imageHolder = LayoutInflater.from(this).inflate(R.layout.image_item, null);\r\n            thumbnail[k] = imageHolder.findViewById(R.id.media_image);\r\n            thumbnail[k].setId(k);\r\n            thumbnail[k].setOnClickListener(PclickListener);\r\n\r\n\r\n            requestManager\r\n                    .load(uri.toString())\r\n                    .apply(new RequestOptions().fitCenter())\r\n                    .into(thumbnail[k]);\r\n\r\n            mSelectedImagesContainer.addView(imageHolder);\r\n            thumbnail[k].setLayoutParams(new FrameLayout.LayoutParams(widthPixel, heightPixel));\r\n            k++;\r\n        }\r\n\r\n    }\r\n\r\n    View.OnClickListener PclickListener = new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            System.out.println(v.getId());\r\n            index =v.getId();\r\n            Uri first = selectedUriList.get(index);\r\n            //startCrop(first);\r\n\r\n        }\r\n    };\r\n\r\n\r\n\r\n/*    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == 2222) {\r\n            if(data == null){   // 어떤 이미지도 선택하지 않은 경우\r\n                Toast.makeText(getApplicationContext(), \"이미지를 선택하지 않았습니다.\", Toast.LENGTH_LONG).show();\r\n                //이걸 스낵바로 바꾸고 싶은데... 어케해야돼....개빢쳐\r\n\r\n            }\r\n            else{   // 이미지를 하나라도 선택한 경우\r\n                if(data.getClipData() == null){     // 이미지를 하나만 선택한 경우\r\n                    Log.e(\"single choice: \", String.valueOf(data.getData()));\r\n                    Uri imageUri = data.getData();\r\n                    uriList.add(imageUri);\r\n\r\n                    adapter = new MultiImageAdapter(uriList, getApplicationContext());\r\n                    recyclerView.setAdapter(adapter);\r\n                    recyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));\r\n                }\r\n                else{      // 이미지를 여러장 선택한 경우\r\n                    ClipData clipData = data.getClipData();\r\n                    Log.e(\"clipData\", String.valueOf(clipData.getItemCount()));\r\n\r\n                    if(clipData.getItemCount() > 11){   // 선택한 이미지가 11장 이상인 경우\r\n                        Toast.makeText(getApplicationContext(), \"사진은 10장까지 선택 가능합니다.\", Toast.LENGTH_LONG).show();\r\n                    }\r\n                    else {   // 선택한 이미지가 1장 이상 10장 이하인 경우\r\n                        Log.e(TAG, \"multiple choice\");\r\n\r\n                        for (int i = 0; i < clipData.getItemCount(); i++) {\r\n                            Uri imageUri = clipData.getItemAt(i).getUri();  // 선택한 이미지들의 uri를 가져온다.\r\n                            try {\r\n                                uriList.add(imageUri);  //uri를 list에 담는다.\r\n\r\n                            } catch (Exception e) {\r\n                                Log.e(TAG, \"File select error\", e);\r\n                            }\r\n                        }\r\n\r\n                        adapter = new MultiImageAdapter(uriList, getApplicationContext());\r\n                        recyclerView.setAdapter(adapter);   // 리사이클러뷰에 어댑터 세팅\r\n                        recyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));     // 리사이클러뷰 수평 스크롤 적용\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n */\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/homesitter/EditActivity.java b/app/src/main/java/com/example/homesitter/EditActivity.java
--- a/app/src/main/java/com/example/homesitter/EditActivity.java	(revision 4c04963e10fc977da3442422bda80e0f46a1c060)
+++ b/app/src/main/java/com/example/homesitter/EditActivity.java	(date 1633864473235)
@@ -162,23 +162,23 @@
                     StorageReference storageRef;
 //                    String sName = mEditName.getText().toString();
                     FirebaseDatabase firebaseDatabase=FirebaseDatabase.getInstance();
-                    DatabaseReference childreference=firebaseDatabase.getReference().child("00gpwls00/PhotoLink/"+name);
+                    DatabaseReference childreference=firebaseDatabase.getReference().child("cctv/PhotoLink/"+name);
                     ValueEventListener valueEventListener = new ValueEventListener() {
                         @Override
                         public void onDataChange(@NonNull DataSnapshot dataSnapshot) {
 
                             if(dataSnapshot.child("UpdateCount").getValue()!=null) {
                                 UpdateCount = dataSnapshot.child("UpdateCount").getValue(Integer.class);
-                                firebaseDatabase.getReference().child("00gpwls00/PhotoLink/" + name + "/" + "UpdateCount").setValue(UpdateCount + i - 1);
+                                firebaseDatabase.getReference().child("cctv/PhotoLink/" + name + "/" + "UpdateCount").setValue(UpdateCount + i - 1);
                             }else{
                                 DownCount=0;
                                 UpdateCount=0;
                                 oneface=0;
                                 //UpdateCount = dataSnapshot.getValue(Integer.class);
                                 System.out.println("UpdateCount:"+UpdateCount);
-                                firebaseDatabase.getReference().child("00gpwls00/PhotoLink/"+name+"/"+"UpdateCount").setValue(UpdateCount+i-1);
-                                firebaseDatabase.getReference().child("00gpwls00/PhotoLink/"+name+"/"+"DownCount").setValue(DownCount);
-                                firebaseDatabase.getReference().child("00gpwls00/PhotoLink/"+name+"/"+"oneface").setValue(oneface);
+                                firebaseDatabase.getReference().child("cctv/PhotoLink/"+name+"/"+"UpdateCount").setValue(UpdateCount+i-1);
+                                firebaseDatabase.getReference().child("cctv/PhotoLink/"+name+"/"+"DownCount").setValue(DownCount);
+                                firebaseDatabase.getReference().child("cctv/PhotoLink/"+name+"/"+"oneface").setValue(oneface);
 
                             }
                         }
@@ -205,7 +205,7 @@
 
                         //storage 주소와 폴더 파일명을 지정해 준다.
                         /*storageRef = storage.getReferenceFromUrl("gs://aicctv-8f5ac.appspot.com").child("/00gpwls00/Photo/"+name+"/"+filename);*/
-                        storageRef = storage.getReferenceFromUrl("gs://homesitter-54d69.appspot.com").child("/00gpwls00/Photo/"+name+"/"+filename);
+                        storageRef = storage.getReferenceFromUrl("gs://homesitter-54d69.appspot.com").child("/cctv/Photo/"+name+"/"+filename);
 
                         storageRef.putFile(uri)
                                 //성공시
@@ -220,7 +220,7 @@
                                             public void onSuccess(Uri uri) {
                                                 Log.d("★★★★★★★★11111", uri.toString());
                                                 String imgurl=uri.toString();
-                                                firebaseDatabase.getReference().child("/00gpwls00/PhotoLink/"+name+"/"+urlname).setValue(imgurl);
+                                                firebaseDatabase.getReference().child("/cctv/PhotoLink/"+name+"/"+urlname).setValue(imgurl);
 
                                             }
                                         }).toString();
Index: app/src/main/java/com/example/homesitter/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.homesitter;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.media.MediaPlayer;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Message;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.View;\r\nimport android.widget.MediaController;\r\nimport android.widget.TextView;\r\nimport android.widget.VideoView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FileDownloadTask;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.gun0912.tedpermission.util.ObjectUtils;\r\n\r\nimport java.io.File;\r\nimport java.util.Calendar;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private TextView mDayView;\r\n    private TextView mTimeView;\r\n    FirebaseStorage storage2;\r\n    FirebaseDatabase firebaseDatabase;\r\n    DatabaseReference childreference;\r\n    StorageReference videoRef;\r\n    File localFile;\r\n    VideoView videoView;\r\n    String videoname;\r\n    File videopath;\r\n    String[] link;\r\n    String target, storagelink;\r\n    int delete_count = 0;\r\n    int delete_count_link = 0;\r\n    int delete_count_link2 = 0;\r\n\r\n    public void onClickClip(View view) {\r\n        Intent intent = new Intent(this, ClipActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    public void onClickFriends(View view) {\r\n        Intent intent = new Intent(this, FriendActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    public void onClickCall(View view) {\r\n        Intent intent = new Intent(Intent.ACTION_DIAL, Uri.parse(\"tel:112\"));\r\n        startActivity(intent);\r\n    }\r\n\r\n    public void onClickPreference(View view) {\r\n        Intent intent = new Intent(this, PreferenceScreen.class);\r\n        intent.putExtra(\"item\", -1);\r\n        startActivityForResult(intent, 200);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        videoView = (VideoView) findViewById(R.id.videoView);\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        childreference = firebaseDatabase.getReference().child(\"00gpwls00/VideoLink/\");\r\n        storage2 = FirebaseStorage.getInstance();\r\n        Handler mHandler = new Handler(new Handler.Callback() {\r\n            @SuppressLint(\"DefaultLocale\")\r\n            @Override\r\n            public boolean handleMessage(Message msg) {\r\n                Calendar cal = Calendar.getInstance();\r\n                int yy = cal.get(Calendar.YEAR);\r\n                int mm = cal.get(Calendar.MONTH) + 1;\r\n                int dd = cal.get(Calendar.DAY_OF_MONTH);\r\n                int h = cal.get(Calendar.HOUR_OF_DAY);\r\n                int m = cal.get(Calendar.MINUTE);\r\n                int s = cal.get(Calendar.SECOND);\r\n\r\n                mDayView = (TextView) findViewById(R.id.day_view);\r\n                mDayView.setGravity(Gravity.BOTTOM);\r\n                mDayView.setTextSize(18);\r\n                mDayView.setTextColor(Color.BLACK);\r\n                mDayView.setText(String.format(\"\"));\r\n\r\n                mTimeView = (TextView) findViewById(R.id.time_view);\r\n                mTimeView.setTextSize(18);\r\n                mTimeView.setTextColor(Color.BLACK);\r\n                mTimeView.setText(String.format(\"\"));\r\n\r\n                mDayView.setText(String.format(\"%04d-%02d-%02d\", yy, mm, dd));\r\n                mTimeView.setText(String.format(\"%02d:%02d:%02d\", h, m, s));\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n        class NewRunnable implements Runnable {\r\n            @Override\r\n            public void run() {\r\n                while (true) {\r\n\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    mHandler.sendEmptyMessage(0);\r\n                }\r\n            }\r\n        }\r\n\r\n        NewRunnable nr = new NewRunnable();\r\n        Thread t = new Thread(nr);\r\n        t.start();\r\n\r\n        Thread th = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                ValueEventListener valueEventListener = new ValueEventListener() {\r\n\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        int k=0;\r\n                        long count = dataSnapshot.getChildrenCount()-2;\r\n                        int int_count = (int)count;\r\n                        link = new String[int_count];\r\n                        for (DataSnapshot messageData : dataSnapshot.getChildren()) {\r\n                            link[k]=messageData.getKey();\r\n                            k++;\r\n                            if(k==int_count) break;\r\n                        }\r\n                        //확인용\r\n                        for(int i=0;i<link.length;i++)\r\n                            System.out.println(link[i]);\r\n                        System.out.println(\"링크 갯수:\"+link.length);\r\n                        target=link[link.length-1];\r\n                        storagelink=target+\".mp4\";\r\n                        System.out.println(\"storage link:\"+storagelink);\r\n                        videoRef = storage2.getReferenceFromUrl(\"gs://homesitter-54d69.appspot.com\").child(\"/00gpwls00/Video/\"+storagelink);\r\n                        downloadVideo(videoRef);\r\n                        try {\r\n                            Thread.sleep(3000);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        mHandler.sendEmptyMessage(0);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                    }\r\n                };\r\n                childreference.addListenerForSingleValueEvent(valueEventListener); //맨 처음 한번만 호출됨\r\n\r\n            }\r\n        });\r\n        th.start();\r\n    }\r\n\r\n    public void removeDir(File file) {\r\n        File[] childFileList = file.listFiles();\r\n        if (!(ObjectUtils.isEmpty(childFileList))) {\r\n            for (File childFile : childFileList) {\r\n                childFile.delete();    //하위 파일\r\n            }\r\n        }\r\n    }\r\n\r\n    public void playVideo(String videoname) {\r\n\r\n        MediaController controller = new MediaController(com.example.homesitter.MainActivity.this);\r\n        videoView.setMediaController(controller);\r\n        videoView.requestFocus();\r\n        String path = getFilesDir() + \"/realtime\" + \"/\" + videoname;\r\n        videoView.setVideoPath(path);\r\n        videoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n            @Override\r\n            public void onPrepared(MediaPlayer mp) {\r\n                videoView.seekTo(0);\r\n                videoView.start();\r\n                // deleteVideo();\r\n            }\r\n        });\r\n\r\n    }\r\n    public void downloadVideo(StorageReference videoRef){\r\n        try {\r\n            videopath=new File(getFilesDir()+\"/realtime\");\r\n            if(!videopath.exists()) {\r\n                videopath.mkdir();\r\n            }\r\n            removeDir(videopath); //내부 저장소 내의 파일 모조리 삭제\r\n            videoname=target+\".mp4\";\r\n            localFile = new File(getFilesDir()+\"/realtime\",videoname);\r\n\r\n            videoRef.getFile(localFile).addOnSuccessListener(new OnSuccessListener<FileDownloadTask.TaskSnapshot>() {\r\n                @Override\r\n                public void onSuccess(FileDownloadTask.TaskSnapshot taskSnapshot) {\r\n                    // Local temp file has been created\r\n                    Log.d(\"Success \",\"영상 다운로드 완료\");\r\n                    playVideo(videoname);\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception exception) {\r\n                    // Handle any errors\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public void deleteVideo() {\r\n        //link에 속한 애들 length-1만큼 돌려서 삭제\r\n\r\n        for (delete_count = 0; delete_count < link.length - 1; delete_count++) {\r\n            storage2.getReferenceFromUrl(\"gs://homesitter-54d69.appspot.com\").child(\"/00gpwls00/Video/\" + link[delete_count] + \".h264\").delete()\r\n                    .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            // removeValue 말고 setValue(null)도 삭제가능\r\n                            childreference.child(link[delete_count_link++]).removeValue()\r\n                                    .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                        @Override\r\n                                        public void onSuccess(Void aVoid) {\r\n                                            Log.d(link[delete_count_link2++], \"파일,링크 삭제완료\");\r\n\r\n                                        }\r\n                                    }).addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Log.d(link[delete_count_link2++], \"링크 삭제실패\");\r\n                                }\r\n                            });\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Log.d(link[delete_count] + \".h264\", \"파일,링크 삭제실패\");\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/homesitter/MainActivity.java b/app/src/main/java/com/example/homesitter/MainActivity.java
--- a/app/src/main/java/com/example/homesitter/MainActivity.java	(revision 4c04963e10fc977da3442422bda80e0f46a1c060)
+++ b/app/src/main/java/com/example/homesitter/MainActivity.java	(date 1633860560157)
@@ -79,7 +79,7 @@
         setContentView(R.layout.activity_main);
         videoView = (VideoView) findViewById(R.id.videoView);
         firebaseDatabase = FirebaseDatabase.getInstance();
-        childreference = firebaseDatabase.getReference().child("00gpwls00/VideoLink/");
+        childreference = firebaseDatabase.getReference().child("cctv/VideoLink/");
         storage2 = FirebaseStorage.getInstance();
         Handler mHandler = new Handler(new Handler.Callback() {
             @SuppressLint("DefaultLocale")
@@ -154,7 +154,7 @@
                         target=link[link.length-1];
                         storagelink=target+".mp4";
                         System.out.println("storage link:"+storagelink);
-                        videoRef = storage2.getReferenceFromUrl("gs://homesitter-54d69.appspot.com").child("/00gpwls00/Video/"+storagelink);
+                        videoRef = storage2.getReferenceFromUrl("gs://homesitter-54d69.appspot.com").child("/cctv/Video/"+storagelink);
                         downloadVideo(videoRef);
                         try {
                             Thread.sleep(3000);
@@ -235,7 +235,7 @@
         //link에 속한 애들 length-1만큼 돌려서 삭제
 
         for (delete_count = 0; delete_count < link.length - 1; delete_count++) {
-            storage2.getReferenceFromUrl("gs://homesitter-54d69.appspot.com").child("/00gpwls00/Video/" + link[delete_count] + ".h264").delete()
+            storage2.getReferenceFromUrl("gs://homesitter-54d69.appspot.com").child("/cctv/Video/" + link[delete_count] + ".h264").delete()
                     .addOnSuccessListener(new OnSuccessListener<Void>() {
                         @Override
                         public void onSuccess(Void aVoid) {
Index: .idea/deploymentTargetDropDown.xml
===================================================================
diff --git a/.idea/deploymentTargetDropDown.xml b/.idea/deploymentTargetDropDown.xml
deleted file mode 100644
--- a/.idea/deploymentTargetDropDown.xml	(revision 4c04963e10fc977da3442422bda80e0f46a1c060)
+++ /dev/null	(revision 4c04963e10fc977da3442422bda80e0f46a1c060)
@@ -1,17 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<project version="4">
-  <component name="deploymentTargetDropDown">
-    <targetSelectedWithDropDown>
-      <Target>
-        <type value="QUICK_BOOT_TARGET" />
-        <deviceKey>
-          <Key>
-            <type value="VIRTUAL_DEVICE_PATH" />
-            <value value="C:\Users\M\.android\avd\Pixel_4_API_30.avd" />
-          </Key>
-        </deviceKey>
-      </Target>
-    </targetSelectedWithDropDown>
-    <timeTargetWasSelectedWithDropDown value="2021-10-07T05:53:34.734275200Z" />
-  </component>
-</project>
\ No newline at end of file
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home/app/src/main/res/drawable-v24/ic_launcher_foreground.xml\" value=\"0.35625\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home/app/src/main/res/drawable/ic_launcher_background.xml\" value=\"0.35625\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home/app/src/main/res/layout/activity_clip.xml\" value=\"0.18931159420289856\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home/app/src/main/res/layout/activity_friend.xml\" value=\"0.18931159420289856\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home/app/src/main/res/layout/activity_main.xml\" value=\"0.20244565217391305\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home/app/src/main/res/xml/root_preferences.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home2/app/src/main/res/layout/activity_clip.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home2/app/src/main/res/layout/activity_edit.xml\" value=\"0.3342391304347826\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home2/app/src/main/res/layout/activity_friend.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home2/app/src/main/res/layout/activity_main.xml\" value=\"0.18\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home2/app/src/main/res/layout/list_item.xml\" value=\"0.3342391304347826\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home3/app/src/main/res/layout/activity_clip.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home3/app/src/main/res/layout/activity_edit.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home3/app/src/main/res/layout/activity_friend.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home3/app/src/main/res/layout/activity_main.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home3/app/src/main/res/layout/list_item.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home6/app/src/main/res/layout/activity_edit.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home6/app/src/main/res/layout/activity_friend.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home6/app/src/main/res/layout/image_item.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home6/app/src/main/res/layout/list_item.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home6/app/src/main/res/layout/multi_image_item.xml\" value=\"0.3359375\" />\r\n        <entry key=\"..\\:/Users/M/AndroidStudioProjects/home6/app/src/main/res/xml/preferences.xml\" value=\"0.17864583333333334\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/drawable/shape_line.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/drawable/shape_line_as.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/layout/activity_asactivity.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/layout/activity_friend.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/layout/activity_info.xml\" value=\"0.13645833333333332\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/layout/activity_loading.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/layout/activity_main.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/layout/list_item.xml\" value=\"0.16\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/layout/multi_image_item.xml\" value=\"0.19701086956521738\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/layout/prefctg.xml\" value=\"0.25885416666666666\" />\r\n        <entry key=\"..\\:/Users/ryd10/AndroidStudioProjects/home3/app/src/main/res/xml/preferences.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/drawable-v24/ic_launcher_foreground.xml\" value=\"0.2203125\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/drawable/ic_launcher_background.xml\" value=\"0.2203125\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/drawable/shape_line_as.xml\" value=\"0.2203125\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/layout/activity_asactivity.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/layout/activity_clip.xml\" value=\"0.2015625\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/layout/activity_edit.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/layout/activity_friend.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/layout/activity_info.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/layout/activity_loading.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/layout/activity_main.xml\" value=\"0.2015625\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/layout/list_item.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/layout/multi_image_item.xml\" value=\"0.2015625\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml\" value=\"0.2203125\" />\r\n        <entry key=\"..\\:/Users/user/Documents/GitHub/home/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml\" value=\"0.22291666666666668\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 4c04963e10fc977da3442422bda80e0f46a1c060)
+++ b/.idea/misc.xml	(date 1633860815543)
@@ -3,6 +3,7 @@
   <component name="DesignSurface">
     <option name="filePathToZoomLevelMap">
       <map>
+        <entry key="..\:/Users/01026580634/Desktop/git_homesitter/app/src/main/res/layout/image_item.xml" value="0.18385416666666668" />
         <entry key="..\:/Users/M/AndroidStudioProjects/home/app/src/main/res/drawable-v24/ic_launcher_foreground.xml" value="0.35625" />
         <entry key="..\:/Users/M/AndroidStudioProjects/home/app/src/main/res/drawable/ic_launcher_background.xml" value="0.35625" />
         <entry key="..\:/Users/M/AndroidStudioProjects/home/app/src/main/res/layout/activity_clip.xml" value="0.18931159420289856" />
@@ -53,7 +54,7 @@
       </map>
     </option>
   </component>
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="1.8" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" project-jdk-name="1.8" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/build/classes" />
   </component>
   <component name="ProjectType">
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.homesitter\"\r\n    android:installLocation=\"preferExternal\" >\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.DIAL_PHONE\" />\r\n    <uses-permission android:name=\"android.permission.WAKE_LOCK\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@drawable/appicon\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/appiconround\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\" >\r\n        <activity\r\n            android:name=\".VideoActivity\"\r\n            android:exported=\"true\" />\r\n        <activity\r\n            android:name=\".LoadingActivity\"\r\n            android:exported=\"true\" >\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\".LoginActivity\"\r\n            android:exported=\"true\" >\r\n        </activity>\r\n        <activity\r\n            android:name=\".InfoActivity\"\r\n            android:exported=\"true\" />\r\n        <activity\r\n            android:name=\".ASActivity\"\r\n            android:exported=\"true\" />\r\n        <activity\r\n            android:name=\".EditActivity\"\r\n            android:exported=\"true\" />\r\n        <activity android:name=\".FriendActivity\" />\r\n        <activity android:name=\".ClipActivity\" />\r\n        <activity android:name=\".PreferenceScreen\"/>\r\n        <activity android:name=\".MainActivity\" />\r\n\r\n        <service\r\n            android:name=\".PushNotificationService\"\r\n            android:exported=\"false\" >\r\n            <intent-filter>\r\n                <action android:name=\"com.google.firebase.MESSAGING_EVENT\" />\r\n            </intent-filter>\r\n        </service>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision 4c04963e10fc977da3442422bda80e0f46a1c060)
+++ b/app/src/main/AndroidManifest.xml	(date 1633860267553)
@@ -14,9 +14,7 @@
         android:roundIcon="@drawable/appiconround"
         android:supportsRtl="true"
         android:theme="@style/AppTheme" >
-        <activity
-            android:name=".VideoActivity"
-            android:exported="true" />
+
         <activity
             android:name=".LoadingActivity"
             android:exported="true" >
